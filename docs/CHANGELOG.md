# Changelog

All notable project updates are tracked here in human-readable form.

## 2026-02-20
### Added
- Initial planning and governance docs:
  - `docs/PROJECT.md`
  - `docs/RESEARCH.md`
  - `docs/SEO.md`
  - `docs/TESTING.md`
  - `docs/CHANGELOG.md`
- Product marketing baseline context:
  - `.claude/product-marketing-context.md`

### Changed
- Updated `docs/PROJECT.md` with confirmed constraints, priority ranking, assumptions status, backlog, JTBD, CRO events, and microcopy direction.
- Filled `docs/RESEARCH.md` with competitor teardown findings and actionable opportunities.
- Updated `docs/SEO.md` with current route inventory and programmatic quality gates.
- Expanded `docs/TESTING.md` with baseline Playwright coverage plan.
- Added a baseline Playwright E2E script and npm command (`test:playwright-baseline`).
- Added local-first favorites UI and persistence to home experience.
- Added search relevance improvements (synonym expansion + typo tolerance scoring).
- Added theme toggle with system default behavior and persisted preference.
- Updated generated page headers to include theme controls and favorites section on home.
- Added/updated tests for analytics wiring and new UX features.
- Added canonical short emoji routes under `/emoji/*` for indexable detail pages.
- Added generated tag hub pages under `/tag/*`.
- Added canonical category hub routes under `/category/*` and category index page.
- Added curated search-topic routes under `/search/*` with quality thresholds.
- Canonicalized legacy group routes to `/category/*` with `noindex,follow`.
- Updated home category panel links to use canonical `/category/*` routes.
- Expanded SEO route tests to cover category/search metadata and canonical behavior.
- Refreshed homepage with quick-action topic chips and clearer keyboard-first guidance.
- Enriched emoji detail pages with meaning/usage copy, keyword pills, code format cards, and related emoji links.
- Added `robots.txt` generation in build with sitemap pointer.
- Added explicit internal link graph regression coverage.
- Expanded keyword enrichment to include `openmoji_tags` + annotation-derived keywords.
- Added competitor alternative pages under `/alternatives/*` and wired them into sitemap/tests.
- Extended baseline Playwright e2e to validate copy-mode payload behavior.
- Added launch planning docs:
  - `docs/LAUNCH.md`
  - `docs/SOCIAL.md`
- Performed a full quality-recovery pass on UI/UX and messaging:
  - redesigned visual system to stronger high-contrast brutalist/editorial style
  - rebuilt homepage hierarchy with proof panel and principle cards
  - expanded About page into architecture, quality, and data sections
  - expanded alternatives pages with switch signals, fit guidance, and migration steps
  - improved detail-page copy and added shortcode quick-copy action
- Updated accessibility test matcher to detect `<h1>` tags with attributes (`/<h1\\b/`).
- Simplified homepage to an emoji-first flow:
  - removed heavy explanatory copy from landing experience
  - defaulted landing to 12 category cards with in-page category -> subgroup -> emoji navigation
  - hid favorites/recents rails until they contain emojis
  - improved mobile header/search layout to prevent overlap and wrapping issues
- Expanded Playwright baseline coverage to assert panel-click 3-step navigation behavior.
- Simplified landing UI further to a strict emoji-first KISS flow:
  - removed visible explanatory heading/copy from home panel shell
  - switched to minimal icon breadcrumb (`⌂ / ...`) with a compact category index shortcut
  - replaced dense preview strips with one large rotating hero emoji per category/subcategory card
  - removed card count metadata on landing panels to reduce cognitive load
  - kept favorites/recents hidden until populated and preserved 3-click discovery flow
- Updated UX/performance and baseline Playwright assertions to match the simplified breadcrumb and dynamic hero-card behavior.
- Rebuilt the About page with copy-first clarity and lighter language:
  - replaced corporate/internal phrasing with short user-centered messaging
  - added a playful interactive emoji wall (shuffle + tap-to-copy)
  - added direct About CTAs to browse emojis and category hubs
  - kept implementation dependency-free and static-host friendly
- Refined header/navigation and home-state behavior for simpler UX:
  - removed header search button and switched to icon-in-input + Enter submit behavior
  - kept header to a strict single row on mobile by collapsing controls into burger menus
  - moved theme switching into advanced menus (`Theme: System/Light/Dark`) instead of top bar
  - removed visible homepage breadcrumb and category-arrow chrome
  - removed `g/sg` query-param navigation on home and redirected legacy links to path routes
  - fixed emoji-of-day display reliability by rendering logo emoji as image assets (with fallback)
- Tuned homepage layout and header ergonomics:
  - enforced divisor-only category grid columns on home (`12 / 6 / 4 / 3 / 2 / 1`) to avoid uneven rows
  - pinned the burger control to the right edge of the header
  - moved search icon to the right side inside the input to prevent placeholder overlap
- Polished card text UX across home and collection pages:
  - centered card titles/labels for cleaner visual rhythm
  - fixed long emoji names overflowing card bounds by switching to 2-line clamped labels
  - added hover/title access to full emoji names when labels are truncated
- Unified category/subcategory browse routing into a single canonical path model:
  - canonicalized subgroup routes to `/category/{group}/{subgroup}/`
  - generated legacy subgroup routes as `noindex,follow` fallbacks with canonical links
  - updated home category/subcategory interactions to navigate by path (not in-page pseudo-routing)
  - added breadcrumbs on category and subcategory pages (`Home / Categories / ...`) while keeping home breadcrumb-free
- Simplified category/subcategory templates to minimal browse-first layouts:
  - removed verbose category/subcategory explanatory copy
  - kept compact counts + direct emoji links for faster scan/click behavior
- Updated quality tests for the new browse architecture:
  - adjusted phase-7 assertions to expect path-first navigation and minimal category copy
  - updated baseline Playwright e2e flow to validate canonical path transitions and breadcrumb visibility
- Unified visual card language across browse hubs:
  - redesigned `/category/` to use the same panel-card treatment as homepage category cards
  - redesigned `/category/{group}/` to use the same panel-card treatment for subcategory selection
  - kept `/category/{group}/{subgroup}/` focused on direct emoji results for the final click
- Updated baseline Playwright selectors to validate subgroup navigation via panel cards on category pages.
- Simplified browse URL architecture and breadcrumb copy:
  - switched canonical browse routes from `/category/*` to flat `/{group}/` and `/{group}/{subgroup}/`
  - kept `/category/` and `/category/*` as compatibility aliases with canonical/noindex behavior
  - removed the extra `Categories` breadcrumb node and enforced Capital Case breadcrumb labels
  - removed visible subgroup heading above emoji lists so breadcrumb context carries the label
- Completed subgroup/detail UX cleanup for faster, clearer interaction:
  - switched subgroup emoji results from legacy list cards to panel-style cards matching top-level category design
  - added subtle per-card copy control while keeping one-click navigation to emoji detail pages
  - hid visible group and emoji-detail `h1` headings while preserving semantic `h1` for SEO/screen readers
  - removed detail-page `Emoji Detail` badge and explanatory helper line to reduce UI noise
  - replaced ambiguous dual-visual hero with explicit copy surfaces (`Emoji` and `Artwork URL`)
  - removed user-facing Canonical/Permalink rows from detail metadata and kept concise Group/Subgroup links
- Refined card grid, menu, and card-title behavior for cleaner navigation:
  - enforced fixed card-column rhythm (`12 / 6 / 4 / 3 / 2 / 1`) across card-grid subpages, including subgroup emoji card grids
  - added static representative emoji prefixes before card titles on home and category card surfaces
  - enabled rotating hero emoji previews on static category/subcategory card pages (not only home)
  - removed confusing `Open Full Explorer` quick-menu jump and replaced it with an in-menu collapsible `More` section
  - improved theme state icons to clearer `System / Light / Dark` glyphs in both home and global quick menus
- Simplified card visuals and About copy:
  - removed the inner framed box around card emojis and increased emoji size for clearer scanability
  - kept emoji glyphs centered on the horizontal axis across card surfaces
  - reduced `/about/` to a single-line statement focused on the `emoj.ie` URL/value
- Added a playful About experience while keeping KISS behavior:
  - restored shuffleable random emoji tiles using the same `panel-card` UI language as the rest of the product
  - made About tiles fully tap/click copyable via existing copy event wiring
  - introduced a Star Wars-style open-source credits crawl (dependency-free CSS animation)
  - kept helper copy minimal (`Tap any tile to copy.`) to preserve scan-first simplicity
- Reduced homepage CLS with exact-match category skeletons:
  - server-rendered 12 homepage panel-card skeletons before data hydration
  - aligned skeleton geometry to final category card layout for stable first paint
  - hid results shell by default on home and only show it when needed
- Upgraded About shuffle + credits UX:
  - switched shuffle tiles to the same subcategory card pattern (`panel-emoji-card`)
  - moved copy to dedicated top-right `⧉` control and made card body open emoji detail pages
  - changed shuffle source to live emoji entries (`home-data.json`) so About uses the same dataset as browse pages
  - refreshed credits as linked, in-use tooling only, with new-tab links and enhanced visual presentation
- Audited menu and About consistency across generated pages:
  - normalized burger menu title copy to `Options` on home and non-home surfaces
  - aligned menu structure by adding the same `More` link section to the home menu
  - removed visible About helper copy (`Shuffle Emojis`, `Tap any tile...`) while keeping accessibility labels
  - renamed `Credits Galaxy` to `Credits`, centered heading, strengthened crawl background, and removed duplicate credits card list
- Made credits crawl more memorable and clearly looped:
  - duplicated credits run blocks and added per-run bookmark markers in markup
  - randomized bookmark emojis on load and on every crawl `animationiteration` cycle
  - kept credits crawl infinite while preserving text-link-only attribution style
- Exposed hidden hub routes in global navigation and normalized hub templates:
  - added shared footer links to `Home`, `Search Topics`, `Tags`, `Compare Sites`, and `About`
  - expanded burger-menu `More` links on home and non-home pages to include the same hubs
  - rebuilt `alternatives/`, `tag/`, and `search/` index pages into minimal panel-card grids
  - switched `tag/{name}` and `search/{term}` pages to panel-style emoji cards with visually hidden `h1` and reduced copy
- Added emoji render diagnostics on detail pages:
  - introduced per-emoji native render detection with tofu-risk messaging
  - added system tofu score scan (dataset-wide), with progress, cached results, and "lower missing is better" guidance
  - kept detection local on-device using canvas-based glyph signatures

### Notes
- Phase 0 through Phase 5 are complete for the current roadmap scope.
- Latest local regression suite passed:
  - `npm run build`
  - `npm test`
  - `npm run lint:links`
  - `npm run test:a11y-smoke`
  - `npm run test:playwright-smoke`
  - `npm run test:playwright-baseline`
  - `npm run test:lighthouse-budget`
